(function(b){function a(){var c=new Object();c.setOption=function(d){var e={type:"",ele:null,userKeyCode:new Array(),userKeyFun:function(){},maxLength:5};$.extend(e,d);c.option=e};c.commontKeyCode=[8,46];c.numKeyCode=[49,50,51,52,53,54,55,56,57,97,98,99,100,101,102,103,104,105,96,48,190,111,110];c.letterKeyCode=[81,87,69,82,84,89,85,73,79,80,65,83,68,70,71,72,74,75,76,77,78,66,86,67,88,90];c.getOption=function(){return c.option};c._keydown=function(d){console.log(d.keyCode);switch(c.option.type){case"n":if((c.numKeyCode.indexOf(d.keyCode)==-1&&c.commontKeyCode.indexOf(d.keyCode)==-1)&&d.shiftKey!=true){if(d.preventDefault){d.preventDefault()}else{d.returnValue=false}}break;case"l":if((c.letterKeyCode.indexOf(d.keyCode)==-1&&c.commontKeyCode.indexOf(d.keyCode)==-1)){if(d.preventDefault){d.preventDefault()}else{d.returnValue=false}}break;case"nl":if((c.letterKeyCode.indexOf(d.keyCode)==-1&&c.commontKeyCode.indexOf(d.keyCode)==-1)&&((c.numKeyCode.indexOf(d.keyCode)==-1&&c.commontKeyCode.indexOf(d.keyCode)==-1)&&d.shiftKey!=true)){if(d.preventDefault){d.preventDefault()}else{d.returnValue=false}}break;case"u":if((c.option.userKeyCode.indexOf(d.keyCode)==-1&&c.commontKeyCode.indexOf(d.keyCode)==-1)){if(d.preventDefault){d.preventDefault()}else{d.returnValue=false}}break}};c.numLetterFun=function(g,f){var h=$(f).val();var d=/^[a-zA-Z0-9\.]*$/;if(!d.test(h)){$(f).val("")}if(h.length>c.option.maxLength){$(f).val(h.substring(0,c.option.maxLength))}};c.letterFun=function(g,f){var h=$(f).val();var d=/^[a-zA-Z]*$/;if(!d.test(h)){$(f).val("")}if(h.length>c.option.maxLength){$(f).val(h.substring(0,c.option.maxLength))}};c.numFun=function(g,f){var h=$(f).val();var d=/^[0-9\.]*$/;if(!d.test(h)){$(f).val("")}if(h.length>c.option.maxLength){$(f).val(h.substring(0,c.option.maxLength))}};c._keyup=function(d){console.log(d.keyCode);switch(c.option.type){case"n":c.numFun(d,this);break;case"l":c.letterFun(d,this);break;case"nl":c.numLetterFun(d,this);break;case"u":c.option.userKeyFun(c,d,this);break}};c._change=function(d){switch(c.option.type){case"n":c.numFun(d,this);break;case"l":c.letterFun(d,this);break;case"nl":c.numLetterFun(d,this);break;case"u":c.option.userKeyFun(c,d,this);break}};c.remove=function(){c.option.ele.off("keydown",c._keydown);c.option.ele.off("keyup",c._keyup);c.option.ele.off("change",c._change)};c.initEvent=function(){c.option.ele.on("keydown",c._keydown);c.option.ele.on("keyup",c._keyup);c.option.ele.on("change",c._change)};return c}b(a)})(function(a){$.fn.prohibitKey=function(c){c=c||{};var b=a();c.ele=this;b.setOption(c);b.initEvent();return b}});