$.fn.endStyle=function(a){if(this.length){if(this[0].currentStyle){return this[0].currentStyle[a]}else{if(window.getComputedStyle){return window.getComputedStyle(this[0])[a]}}}};function MoveTitle(a){var b=function(e,d,g){var c=$(d);c.TitleDiv=document.createElement("div");if(d.getAttribute("data-innerHTML")==1||d.getAttribute("data-toolInput")==1){if(parseInt($(d).endStyle("width"))<parseInt($(d).endStyle("max-width"))){return 0}c.TitleDiv.setAttribute("class","titleDiv")}else{c.TitleDiv.setAttribute("class","titleDivIcon")}if(a){$(c.TitleDiv).addClass(a);if(d.getAttribute("data-innerHTML")==1||d.getAttribute("data-toolInput")==1){if(parseInt($(d).endStyle("width"))<parseInt($(d).endStyle("max-width"))){return 0}}else{$(c.TitleDiv).addClass("titleDivIcon")}}var f=window.document.documentElement.clientWidth;if(parseInt(f/2)<e.clientX){$(c.TitleDiv).addClass("titleDivRight")}else{$(c.TitleDiv).addClass("titleDivLeft")}if($(d)[0].getAttribute("data-title")){$(c.TitleDiv).html($(d)[0].getAttribute("data-title"))}else{if($(d)[0].getAttribute("data-innerHTML")){Text=d.innerText;$(c.TitleDiv).html(Text)}else{if($(d)[0].getAttribute("data-toolInput")){$(c.TitleDiv).html(c.val())}else{$(c.TitleDiv).html(g);$(c.TitleDiv).removeClass("titleDivIcon")}}}document.body.appendChild(c.TitleDiv)};$(document).on("mousemove","[data-title],[data-innerHTML],[data-toolInput],.desable",function(d){if($(this).hasClass("desable")){if(typeof INDEX_MAIN=="undefined"){return 0}}if(this.getAttribute("data-title")==""){return 0}var e=window.document.documentElement.clientWidth;var c=null;if(this.getAttribute("data-title")){c={position:"fixed",left:d.clientX-15+"px",top:d.clientY+30+"px",display:"block"};delete c.right}else{c={position:"fixed",left:d.clientX+30+"px",top:d.clientY-8+"px",display:"block"};delete c.right}if(parseInt(e/2)<d.clientX+30){if(this.getAttribute("data-title")){c.right=e-d.clientX-15+"px"}else{c.right=e-d.clientX+30+"px"}delete c.left}$(".titleDiv").attr("style","");$(".titleDiv").css(c)});$(document).on("mouseover","[data-title],[data-innerHTML],[data-toolInput],.desable",function(c){if($(this).hasClass("desable")){if(typeof INDEX_MAIN=="undefined"){return 0}}if(this.getAttribute("data-title")==""){return 0}if(this.getAttribute("data-href")){return 0}b(c,this,"暂无权限，请联系管理员")});$(document).on("mouseout","[data-title],[data-innerHTML],[data-toolInput],.desable",function(){if($(this).hasClass("desable")){if(typeof INDEX_MAIN=="undefined"){return 0}}$(".titleDiv").remove()})}MoveTitle("titleDiv");var style=document.createElement("style");style.innerHTML='.Ellipsis{position:relative;}.Ellipsis:after{content:"...";position:absolute;right:0px;bottom:0px;background-color: white;}';document.body.appendChild(style);var ellipse=function(){var a=$("[data-overEllipsis]");a.each(function(d,c){var f=c.getAttribute("data-line")?c.getAttribute("data-line"):1;var e=null;$(".cloneClassEllipsis"+d).remove();if(!c.cloneNodeEx){c.cloneNodeEx=c.cloneNode(true);$(c.cloneNodeEx).addClass("cloneClassEllipsis"+d);c.cloneNodeEx.setAttribute("style","opacity:1!important;position:absolute!important;left:9px!important;")}c.cloneNodeEx.style.width=$(c).width()+"px";var g=c.cloneNode(true);g.innerHTML="我";g.setAttribute("style","width:100%!important;opacity:1!important;position:absolute!important;left:9px!important;");$(c.parentNode).append(g);e=$(g).height();g.setAttribute("class","ellipsisDiv");c.div=document.createElement("div");c.div.innerHTML=c.innerText;c.innerHTML="";$(c.parentNode).append(c.cloneNodeEx);c.div.style.height=f*e+"px";c.div.style.overflow="hidden";if(($(".cloneClassEllipsis"+d).height()<=f*e+2&&$(".cloneClassEllipsis"+d).height()>=f*e-2)||($(".cloneClassEllipsis"+d).height()<=f*e)){$(c).removeClass("Ellipsis")}else{$(c).addClass("Ellipsis")}c.appendChild(c.div);console.log($(".cloneClassEllipsis"+d).height());console.log(f*e);$(".ellipsisDiv").remove();$(".cloneClassEllipsis"+d).remove()})};$(window).on("load",ellipse);$(window).on("resize",ellipse);