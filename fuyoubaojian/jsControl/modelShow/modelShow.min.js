(function(a){function d(h,g,f){f=typeof f!="undefined"?f:false;for(var e in g){if(typeof g[e]=="object"&&typeof h[e]!="undefined"&&typeof h[e]=="object"&&e!="doc"){d(h[e],g[e],f)}else{h[e]=g[e]}}if(f==true){g=null}}var b='<div class="m-modal">'+'<div class="m-modal-dialog">'+'<div class="m-top">'+'<h4 class="m-modal-title">'+"title"+"</h4>"+'<span class="m-modal-close">&times;</span>'+"</div>"+'<div class="m-middle">'+"content"+"</div>"+'<div class="m-bottom">'+'<button class="m-btn-sure">确定</button>'+'<button class="m-btn-cancel">取消</button>'+"</div>"+"</div>"+"</div>";function c(f){var g={forTime:{cancel:{timeEnd:2000,timeBool:false},sure:{timeEnd:2000,timeBool:false},modelShowAnimateTime:500},forText:{title:"",content:"",cancel:"取消",sure:"确认"},forFunction:{cancel:function(i,h,k,j){h.close()},sure:function(i,h,k,j){h.close()},close:function(i,h,k,j){h.close()},animateEnd:function(i,h){},createModelEnd:function(i,h){},model:function(i,h,j){},closeBefore:function(i,h){},closeAfter:function(i,h){console.log(arguments)}},forType:{clickMaskClose:false,doc:document},forStyle:{maxBox:{},maxBoxClass:".m-modal",styleType:"1",styleTypeStr:"data-styleType",header:{},headerClass:".m-top",content:{},contentClass:".m-middle",dialog:{},dialogClass:".m-modal-dialog",title:{},titleClass:".m-modal-title",sure:{},sureClass:".m-btn-sure",cancel:{},cancelClass:".m-btn-cancel",mModalShow:true,footer:{},footerClass:".m-bottom",forWind:"top"},forAnimate:"TopToBottom",forAnimateProto:{end:"50%",animate:"true"},forDrop:{dropMove:function(i,h,k,j){},dropStart:function(i,h,k,j){},dropEnd:function(i,h,k,j){},isStrong:true,isDrop:false}};d(g,f);var e=new Object();e.buffObj={};e.buffObj.dropFun=function(){if(e.defaultObj.forStyle.mModalShow){var h=e.$model.find(e.defaultObj.forStyle.dialogClass);var j=h.height()+parseInt(h.css("top"))+parseInt(h.css("marginTop"));if(j>=document.documentElement.clientHeight){$(h).css({top:document.documentElement.clientHeight-h.height()-parseInt($(h).css("marginTop"))+"px"})}if(parseInt(h.css("top"))<0-parseInt($(h).css("marginTop"))){$(h).css({top:-parseInt($(h).css("marginTop"))+"px"})}var i=h.width()+parseInt(h.css("left"))+parseInt(h.css("marginLeft"));if(i>=document.documentElement.clientWidth){$(h).css({left:document.documentElement.clientWidth-h.width()-parseInt($(h).css("marginLeft"))+"px"})}if(parseInt(h.css("left"))<0-parseInt($(h).css("marginLeft"))){$(h).css({left:-parseInt($(h).css("marginLeft"))+"px"})}}else{var h=e.$model.find(e.defaultObj.forStyle.dialogClass);var j=h.height()+parseInt(h.css("top"))+parseInt(h.css("marginTop"));if(j>=document.documentElement.clientHeight){$(h).css({top:document.documentElement.clientHeight-h.height()-parseInt($(h).css("marginTop"))+"px"})}if(parseInt(h.css("top"))<0-parseInt($(h).css("marginTop"))){$(h).css({top:-parseInt($(h).css("marginTop"))+"px"})}var i=h.width()+parseInt(h.css("left"))+parseInt(h.css("marginLeft"));if(i>=document.documentElement.clientWidth){$(h).css({left:document.documentElement.clientWidth-h.width()-parseInt($(h).css("marginLeft"))+"px"})}if(parseInt(h.css("left"))<0-parseInt($(h).css("marginLeft"))){$(h).css({left:-parseInt($(h).css("marginLeft"))+"px"})}}};e.defaultObj=g;e.getClassName=function(h){if(typeof h!="string"){console.log("error:getClassName is error arguments require string");return}return h.replace(/\./g," ")};e.show=function(){b=b.replace(/m-modal/,e.getClassName(e.defaultObj.forStyle.maxBoxClass));b=b.replace(/m-modal-title/,e.getClassName(e.defaultObj.forStyle.titleClass));b=b.replace(/m-top/,e.getClassName(e.defaultObj.forStyle.headerClass));b=b.replace(/m-middle/,e.getClassName(e.defaultObj.forStyle.contentClass));b=b.replace(/m-modal-dialog/,e.getClassName(e.defaultObj.forStyle.dialogClass));b=b.replace(/m-btn-sure/,e.getClassName(e.defaultObj.forStyle.sureClass));b=b.replace(/m-modal-cancel/,e.getClassName(e.defaultObj.forStyle.cancelClass));b=b.replace(/m-bottom/,e.getClassName(e.defaultObj.forStyle.footerClass));e.$model=$(b);e.$model.attr("data-styleType",e.defaultObj.forStyle.styleType);e.$model.find(e.defaultObj.forStyle.titleClass).html(e.defaultObj.forText.title).css(e.defaultObj.forStyle.title);e.$model.find(e.defaultObj.forStyle.contentClass).html(e.defaultObj.forText.content).css(e.defaultObj.forStyle.content);e.$model.find(e.defaultObj.forStyle.cancelClass).html(e.defaultObj.forText.cancel).css(e.defaultObj.forStyle.cancel);e.$model.find(e.defaultObj.forStyle.sureClass).html(e.defaultObj.forText.sure).css(e.defaultObj.forStyle.sure);e.$model.find(e.defaultObj.forStyle.dialogClass).css(e.defaultObj.forStyle.dialog);e.$model.css(e.defaultObj.forStyle.maxBox);e.$model.find(e.defaultObj.forStyle.headerClass).css(e.defaultObj.forStyle.header);e.$model.find(e.defaultObj.forStyle.footerClass).css(e.defaultObj.forStyle.footer);switch(e.defaultObj.forStyle.forWind){case"top":if(window.top!=window.self&&window.location.href.search("http")==-1){$(window.document.body).append(e.$model)}else{$(window.top.document.body).append(e.$model)
}break;case"parent":if(window.parent!=window.self&&window.location.href.search("http")==-1){$(window.document.body).append(e.$model)}else{$(window.parent.document.body).append(e.$model)}break;case"self":$(window.self.document.body).append(e.$model);break;default:if(window.top!=window.self&&window.location.href.search("http")==-1){$(window.document.body).append(e.$model)}else{$(window.top.document.body).append(e.$model)}console.log("error:forWind is not find local switch")}var k=e.$model.find(e.defaultObj.forStyle.dialogClass);e.$model.css({display:"block"});k.css({marginLeft:-k.width()/2+"px",marginTop:-k.height()/2+"px"});function i(){e.defaultObj.forFunction.animateEnd(e.$model,e)}function h(o){if(e.defaultObj.forAnimateProto.animate!="true"){o.css({top:e.defaultObj.forAnimateProto.end,opacity:1});i();return}switch(e.defaultObj.forAnimate){case"TopToBottom":o.css({top:"-10%",opacity:0});o.animate({top:e.defaultObj.forAnimateProto.end,opacity:1},e.defaultObj.forTime.modelShowAnimateTime,i);break;case"BottomToTop":o.css({top:"110%",opacity:0});o.animate({top:e.defaultObj.forAnimateProto.end,opacity:1},e.defaultObj.forTime.modelShowAnimateTime,i);break;case"LeftToRight":o.css({left:"-10%",opacity:0});o.animate({left:e.defaultObj.forAnimateProto.end,opacity:1},e.defaultObj.forTime.modelShowAnimateTime,i);break;case"RightToLeft":o.css({left:"110%",opacity:0});o.animate({left:e.defaultObj.forAnimateProto.end,opacity:1},e.defaultObj.forTime.modelShowAnimateTime,i)}}if(e.defaultObj.forStyle.mModalShow){h(k)}else{k.css({position:"static",marginLeft:"",marginTop:""});e.$model.css({position:"fixed",width:k.width()+"px",height:k.height()+"px",left:"50%",top:"50%",marginLeft:-k.width()/2+"px",marginTop:-k.height()/2+"px"});h(e.$model)}e.$model.find(e.defaultObj.forStyle.cancelClass).off("click");e.$model.find(e.defaultObj.forStyle.sureClass).off("click");e.$model.find(".m-modal-close").off("click");e.$model.on("click").off("click");e.$model.find(e.defaultObj.forStyle.cancelClass).on("click",function(o){e.defaultObj.forFunction.cancel(e.$model,e,o,this)});e.$model.find(e.defaultObj.forStyle.sureClass).on("click",function(o){e.defaultObj.forFunction.sure(e.$model,e,o,this)});e.$model.find(".m-modal-close").on("click",function(o){e.defaultObj.forFunction.close(e.$model,e,o,this)});e.$model.on("click").on("click",function(p){p.stopPropagation();e.defaultObj.forFunction.model(e.$model,e,p);if(e.defaultObj.forType.clickMaskClose){var o=p.target?p.target:p.srcElement;if(o==this){e.close()}}});if(e.defaultObj.forTime.cancel.timeBool){var n=e.$model.find(e.defaultObj.forStyle.cancelClass);var l=e.defaultObj.forTime.cancel.timeEnd/1000;n.html(e.defaultObj.forText.cancel+l.toString());e.cancelTime=setInterval(function(){if(l==0){n.trigger("click");clearInterval(e.cancelTime)}n.html(e.defaultObj.forText.cancel+l.toString());l--},1000)}if(e.defaultObj.forTime.sure.timeBool){var m=e.$model.find(e.defaultObj.forStyle.sureClass);var j=e.defaultObj.forTime.sure.timeEnd/1000;m.html(e.defaultObj.forText.sure+j.toString());e.sureTime=setInterval(function(){if(j==0){m.trigger("click");clearInterval(e.sureTime)}m.html(e.defaultObj.forText.sure+j.toString());j--},1000)}e.defaultObj.forFunction.createModelEnd(e.$model,e)};e.close=function(){e.defaultObj.forFunction.closeBefore(e.$model,e);var h=e.$model.find(e.defaultObj.forStyle.dialogClass);function i(){e.$model.remove();e.defaultObj.forFunction.closeAfter(e.$model,e)}function j(k){if(e.defaultObj.forAnimateProto.animate!="true"){i()}switch(e.defaultObj.forAnimate){case"TopToBottom":if(!e.defaultObj.forDrop.isDrop){k.css({top:e.defaultObj.forAnimateProto.end,opacity:1})}k.animate({top:"-10%",opacity:0},e.defaultObj.forTime.modelShowAnimateTime,i);break;case"BottomToTop":if(!e.defaultObj.forDrop.isDrop){k.css({top:e.defaultObj.forAnimateProto.end,opacity:1})}k.animate({top:"110%",opacity:0},e.defaultObj.forTime.modelShowAnimateTime,i);break;case"LeftToRight":if(!e.defaultObj.forDrop.isDrop){k.css({left:e.defaultObj.forAnimateProto.end,opacity:1})}k.animate({left:"-10%",opacity:0},e.defaultObj.forTime.modelShowAnimateTime,i);break;case"RightToLeft":if(!e.defaultObj.forDrop.isDrop){k.css({left:e.defaultObj.forAnimateProto.end,opacity:1})}k.animate({left:"110%",opacity:0},e.defaultObj.forTime.modelShowAnimateTime,i)}}if(e.defaultObj.forStyle.mModalShow){j(h)}else{j(e.$model)}if(e.cancelTime){clearInterval(e.cancelTime)}if(e.sureTime){clearInterval(e.sureTime)}e.defaultObj.forDrop.isDrop=false;$(window).off("resize",e.buffObj.dropFun)};e.setOption=function(h){d(e.defaultObj,h)};e.dropModel=function(){if(typeof $(e.defaultObj.doc).dropIng=="undefined"){console.warn("Not load drop.js,Please contact 375361172@qq.com!!");return}if(e.defaultObj.forStyle.mModalShow){e.$model.find(e.defaultObj.forStyle.dialogClass).dropIng(0,{mode:"process",doc:e.defaultObj.forType.doc,returnValue:false,processMoveFun:function(i,h,k,j){if(e.defaultObj.forDrop.isStrong){if($(i).height()+k+parseInt($(i).css("marginTop"))>=e.defaultObj.forType.doc.documentElement.clientHeight){$(i).css({top:e.defaultObj.forType.doc.documentElement.clientHeight-$(i).height()-parseInt($(i).css("marginTop"))+"px"})
}if(k<0-parseInt($(i).css("marginTop"))){$(i).css({top:-parseInt($(i).css("marginTop"))+"px"})}if($(i).width()+h+parseInt($(i).css("marginLeft"))>=e.defaultObj.forType.doc.documentElement.clientWidth){$(i).css({left:e.defaultObj.forType.doc.documentElement.clientWidth-$(i).width()-parseInt($(i).css("marginLeft"))+"px"})}if(h<0-parseInt($(i).css("marginLeft"))){$(i).css({left:-parseInt($(i).css("marginLeft"))+"px"})}}e.defaultObj.forDrop.dropMove(i,h,k,j)},processStartFun:function(i,h,k,j){e.defaultObj.forDrop.dropStart(i,h,k,j)},processEndFun:function(i,h,k,j){e.defaultObj.forDrop.dropEnd(i,h,k,j)}})}else{e.$model.dropIng(0,{mode:"process",doc:e.defaultObj.forType.doc,returnValue:false,processMoveFun:function(i,h,k,j){if(e.defaultObj.forDrop.isStrong){if($(i).height()+k+parseInt($(i).css("marginTop"))>=e.defaultObj.forType.doc.documentElement.clientHeight){$(i).css({top:e.defaultObj.forType.doc.documentElement.clientHeight-$(i).height()-parseInt($(i).css("marginTop"))+"px"})}if(k<0-parseInt($(i).css("marginTop"))){$(i).css({top:-parseInt($(i).css("marginTop"))+"px"})}if($(i).width()+h+parseInt($(i).css("marginLeft"))>=e.defaultObj.forType.doc.documentElement.clientWidth){$(i).css({left:e.defaultObj.forType.doc.documentElement.clientWidth-$(i).width()-parseInt($(i).css("marginLeft"))+"px"})}if(h<0-parseInt($(i).css("marginLeft"))){$(i).css({left:-parseInt($(i).css("marginLeft"))+"px"})}}e.defaultObj.forDrop.dropMove(i,h,k,j)},processStartFun:function(i,h,k,j){e.defaultObj.forDrop.dropStart(i,h,k,j)},processEndFun:function(i,h,k,j){e.defaultObj.forDrop.dropEnd(i,h,k,j)}})}e.defaultObj.forDrop.isDrop=true;$(window).on("resize",e.buffObj.dropFun)};if(typeof changeIframe!="undefined"){e.changeIframe=function(h){var i={url:"",type:"",title:"未命名页面",GlobalEx:"",reload:"",closeNow:""};$.extend(i,h);if(i.GlobalEx!=""){i.GlobalEx=JSON.stringify(i.GlobalEx);console.log(i.GlobalEx)}changeIframe(i.url,i.type,i.title,i.GlobalEx,i.reload,i.closeNow)}}else{console.log("error:changeIframe method is not defined,contact 375361172@qq.com")}return e}a(c)})(function(a){$.modelShow=function(b){var c=a(b);c.show();return c}});